<p><img alt="" src="https://velog.velcdn.com/images/sommnie/post/b8e43e50-cbcf-450e-92bf-136a9e187b4b/image.jpg" /></p>
<h2 id="ğŸ³-ë„ì»¤-ì»´í¬ì¦ˆdocker-composeë€">ğŸ³ ë„ì»¤ ì»´í¬ì¦ˆ(Docker Compose)ë€?</h2>
<p><strong>ë„ì»¤ ì»´í¬ì¦ˆ(Docker Compose)</strong> ëŠ” ë‹¨ì¼ ì„œë²„ì—ì„œ ì—¬ëŸ¬ê°œì˜ ì»¨í…Œì´ë„ˆë¥¼ í•˜ë‚˜ì˜ ì„œë¹„ìŠ¤ ë‹¨ìœ„ë¡œ ë¬¶ì–´ í•œë²ˆì— ê´€ë¦¬í•  ìˆ˜ ìˆê²Œ ì œê³µí•˜ëŠ” ê´€ë¦¬ ë„êµ¬</p>
<p>ì˜ˆë¥¼ ë“¤ì–´ Python ì›¹ í”„ë¡œì íŠ¸ë¥¼ ìš´ì˜í•œë‹¤ê³  ê°€ì •í•˜ë©´</p>
<ul>
<li>ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ (Flask, Django ë“±)</li>
<li>ë°ì´í„°ë² ì´ìŠ¤ (MySQL, PostgreSQL)</li>
<li>ìºì‹œ ì„œë²„ (Redis)</li>
</ul>
<p>ë“¤ì„ ìˆ˜ë™ìœ¼ë¡œ ê°ê° ë„ìš°ëŠ” ëŒ€ì‹  
<strong>í•˜ë‚˜ì˜ ì„¤ì • íŒŒì¼(<code>docker-compose.yml</code>)</strong> ë¡œ ëª¨ë‘ ê´€ë¦¬ ê°€ëŠ¥</p>
<h3 id="âš™ï¸-1-ë„ì»¤-ì»´í¬ì¦ˆì˜-íŠ¹ì§•">âš™ï¸ 1. ë„ì»¤ ì»´í¬ì¦ˆì˜ íŠ¹ì§•</h3>
<table>
<thead>
<tr>
<th align="center">íŠ¹ì§•</th>
<th align="left">ì„¤ëª…</th>
</tr>
</thead>
<tbody><tr>
<td align="center"><strong>í†µí•© ê´€ë¦¬</strong></td>
<td align="left">ì—¬ëŸ¬ ì»¨í…Œì´ë„ˆë¥¼ í•œ íŒŒì¼ì—ì„œ ì •ì˜í•˜ê³  ê´€ë¦¬</td>
</tr>
<tr>
<td align="center"><strong>ëª…ë ¹ ë‹¨ìˆœí™”</strong></td>
<td align="left"><code>docker compose up</code> í•œ ì¤„ë¡œ ì „ì²´ ì‹¤í–‰ ê°€ëŠ¥</td>
</tr>
<tr>
<td align="center"><strong>ìë™ ë„¤íŠ¸ì›Œí‚¹</strong></td>
<td align="left">ê° ì»¨í…Œì´ë„ˆë¼ë¦¬ ìë™ìœ¼ë¡œ ê°™ì€ ë„¤íŠ¸ì›Œí¬ì— ì—°ê²°</td>
</tr>
<tr>
<td align="center"><strong>í™•ì¥ì„±</strong></td>
<td align="left">ì„œë¹„ìŠ¤ë³„ ìŠ¤ì¼€ì¼ ì¡°ì • ê°€ëŠ¥ (<code>scale web=3</code>)</td>
</tr>
<tr>
<td align="center"><strong>ì¬ì‚¬ìš©ì„±</strong></td>
<td align="left">í™˜ê²½ êµ¬ì„±ì„ ì†ì‰½ê²Œ ì¬í˜„ ê°€ëŠ¥ (í…ŒìŠ¤íŠ¸/ìš´ì˜ ì¼ê´€ì„± ìœ ì§€)</td>
</tr>
</tbody></table>
<h3 id="ğŸ§©-2-ë„ì»¤-ì»´í¬ì¦ˆ-ì„¤ì¹˜">ğŸ§© 2. ë„ì»¤ ì»´í¬ì¦ˆ ì„¤ì¹˜</h3>
<ul>
<li><p>Windows &amp; Mac
Docker Desktopì„ ì„¤ì¹˜í•˜ë©´ Docker Composeê°€ ìë™ìœ¼ë¡œ í¬í•¨ë©ë‹ˆë‹¤</p>
</li>
<li><p>Linux (Ubuntu/Debian)</p>
<pre><code class="language-bash"># Docker Compose ìµœì‹  ë²„ì „ ë‹¤ìš´ë¡œë“œ
sudo curl -L &quot;https://github.com/docker/compose/releases/latest/download/docker-compose-$(uname -s)-$(uname -m)&quot; -o /usr/local/bin/docker-compose
</code></pre>
</li>
</ul>
<h1 id="ì‹¤í–‰-ê¶Œí•œ-ë¶€ì—¬">ì‹¤í–‰ ê¶Œí•œ ë¶€ì—¬</h1>
<p>sudo chmod +x /usr/local/bin/docker-compose</p>
<h1 id="ì„¤ì¹˜-í™•ì¸">ì„¤ì¹˜ í™•ì¸</h1>
<p>docker-compose --version</p>
<pre><code>
### ğŸ“ 3. docker-compose.yml íŒŒì¼ êµ¬ì¡°
&gt;docker-compose.yml íŒŒì¼ì„ ê¸°ë°˜ìœ¼ë¡œ ë™ì‘
YAML ë¬¸ë²•ìœ¼ë¡œ ì‘ì„±, ì„œë¹„ìŠ¤ë³„ ì„¤ì •ì„ ì •ì˜

#### ê¸°ë³¸ êµ¬ì¡°
```bash
version: '3.8'

services:
  web:
    image: nginx:latest           # ì‚¬ìš©í•  ì´ë¯¸ì§€
    build:                         # ë˜ëŠ” Dockerfileë¡œ ë¹Œë“œ
      context: .                   # ë¹Œë“œ ì»¨í…ìŠ¤íŠ¸
      dockerfile: Dockerfile       # Dockerfile ê²½ë¡œ
    container_name: my-web        # ì»¨í…Œì´ë„ˆ ì´ë¦„
    ports:
      - &quot;8080:80&quot;                 # í¬íŠ¸ ë§¤í•‘ (í˜¸ìŠ¤íŠ¸:ì»¨í…Œì´ë„ˆ)
    volumes:
      - ./html:/usr/share/nginx/html  # ë³¼ë¥¨ ë§ˆìš´íŠ¸
      - data-volume:/data         # ëª…ëª…ëœ ë³¼ë¥¨
    environment:                  # í™˜ê²½ ë³€ìˆ˜
      - ENV_VAR=value
      - DEBUG=true
    env_file:                     # í™˜ê²½ ë³€ìˆ˜ íŒŒì¼
      - .env
    depends_on:                   # ì„œë¹„ìŠ¤ ì˜ì¡´ì„±
      - db
    restart: always              # ì¬ì‹œì‘ ì •ì±…
    networks:                    # ë„¤íŠ¸ì›Œí¬ ì„¤ì •
      - frontend
      - backend

volumes:
  data-volume:</code></pre><h4 id="í”„ë¡œì íŠ¸-êµ¬ì¡°">í”„ë¡œì íŠ¸ êµ¬ì¡°</h4>
<pre><code>flask-compose/
 â”œâ”€â”€ app.py
 â”œâ”€â”€ Dockerfile
 â””â”€â”€ docker-compose.yml</code></pre><h3 id="ğŸš€-4-ë„ì»¤-ì»´í¬ì¦ˆ-ì‹¤í–‰">ğŸš€ 4. ë„ì»¤ ì»´í¬ì¦ˆ ì‹¤í–‰</h3>
<pre><code class="language-bash">docker-compose build  # ë¹Œë“œ

docker-compose up --build  # ë¹Œë“œ í›„ ì‹¤í–‰

docker-compose config  # í™˜ê²½ë³€ìˆ˜ í™•ì¸

docker-compose up #ì„œë¹„ìŠ¤ ì‹œì‘ (ì „ì²´)

docker-compose up -d  # ë°±ê·¸ë¼ìš´ë“œ ì‹¤í–‰

docker-compose up web redis  # íŠ¹ì • ì„œë¹„ìŠ¤ë§Œ ì‹œì‘

docker-compose stop  # ì„œë¹„ìŠ¤ ì¤‘ì§€

docker-compose restart # ì„œë¹„ìŠ¤ ì¬ì‹œì‘

docker-compose down  # ì„œë¹„ìŠ¤ ì‚­ì œ (ì»¨í…Œì´ë„ˆ)

docker-compose down --rmi all  # ì´ë¯¸ì§€ê¹Œì§€ ì‚­ì œ

docker-compose down -v  # ë³¼ë¥¨ê¹Œì§€ ì‚­ì œ

docker-compose logs  # ë¡œê·¸ í™•ì¸

docker-compose logs -f web  # íŠ¹ì • ì„œë¹„ìŠ¤ ì‹¤ì‹œê°„ ë¡œê·¸

docker-compose ps  # ì‹¤í–‰ ì¤‘ì¸ ì„œë¹„ìŠ¤ í™•ì¸

docker-compose up -d --scale web=3  # ì„œë¹„ìŠ¤ ìŠ¤ì¼€ì¼ë§
</code></pre>